(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(7),r=n.n(i),s=(n(29),n(4)),o=n.n(s),l=n(6),u=n(5),d=n.p+"static/media/Marvel-Logo.8518dc47.png",b=n.p+"static/media/heart.c31d61db.svg",j=n.p+"static/media/heartSelected.105f24fc.svg",m=(n(31),n(1)),f=function(e){var t=e.handleClose,n=e.show,c=e.children,a=e.modalRef;return n?Object(m.jsx)("div",{className:"modal display-block",children:Object(m.jsxs)("section",{ref:a,className:"modal-main",children:[c,Object(m.jsx)("button",{className:"close-button",type:"button",onClick:t,children:"X"})]})}):null},h=n(19),p=n.n(h),O=Object({NODE_ENV:"production",PUBLIC_URL:"/marvel-comics",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TIMESTAMP:"1",REACT_APP_PUBLIC_KEY:"9da847fb87e8c1e31bfae1fa51906f01",REACT_APP_MD5:"689a9c62dc362df7e8db6b60f55024ff",REACT_APP_SERVICE_ID:"service_q1ia4y8",REACT_APP_TEMPLATE_ID:"template_0motpnh",REACT_APP_USER_ID:"user_qNF3jXMxjhMJCEKtAaoL7"}),v=O.REACT_APP_TIMESTAMP,x=O.REACT_APP_PUBLIC_KEY,g=O.REACT_APP_MD5,_=p.a.create({baseURL:"https://gateway.marvel.com/v1/public",params:{ts:v,apikey:x,hash:g}}),C=n(20),E=n.n(C),S=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.send("".concat("service_q1ia4y8"),"".concat("template_0motpnh"),{to:"".concat(t),message:"".concat(n)},"".concat("user_qNF3jXMxjhMJCEKtAaoL7"));case 2:return c=e.sent,e.abrupt("return",200===c.status);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=n(23),N=n.n(k),P=n(8),T=(n(53),n(24)),A=function(){var e,t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),h=s[0],p=s[1],O=Object(c.useState)(0),v=Object(u.a)(O,2),x=v[0],g=v[1],C=Object(c.useState)(""),E=Object(u.a)(C,2),k=E[0],A=E[1],R=Object(c.useState)(0),w=Object(u.a)(R,2),y=w[0],L=w[1],D=Object(c.useState)(""),I=Object(u.a)(D,2),M=I[0],q=I[1],F=Object(c.useState)(!1),K=Object(u.a)(F,2),U=K[0],B=K[1],H=Object(c.useState)(!1),J=Object(u.a)(H,2),W=J[0],X=J[1],V="Imagem n\xe3o encontrada!",Y=Object(c.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(t,{params:{titleStartsWith:k}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),z=Object(c.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),Q=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,S(M,ne().join(" \n \n "));case 4:P.b.success("E-mail enviado"),B(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),P.b.error("Erro ao enviar o e-mail");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),G=Object(c.useCallback)(Object(l.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="/comics?offset=".concat(x),e.prev=1,B(!0),!k){e.next=9;break}return e.next=6,Y(t);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,z(t);case 11:e.t0=e.sent;case 12:n=e.t0,c=n.data,i(c.data.results),B(!1),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(1),i([]);case 21:case"end":return e.stop()}}),e,null,[[1,18]])}))),[x,k,Y,z]),Z=Object(c.useRef)();!function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(c.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))}(Z,(function(){W&&X(!1)})),Object(c.useEffect)((function(){var e=setTimeout((function(){(0===k.length||k.length>=3)&&(G(),g(0))}),500);return function(){clearTimeout(e)}}),[k]);var $=Object(c.useCallback)((function(e){return h.length>0&&h.some((function(t){return t.id===e}))}),[h]);Object(c.useEffect)((function(){G()}),[x,G]);var ee=function(e){var t=h,n=null===a||void 0===a?void 0:a.find((function(t){return t.id===e}));n&&t.push({id:n.id,description:n.description,thumbnail:n.thumbnail,title:n.title}),G(),p(t)},te=function(e){var t=h.filter((function(t){return t.id!==e}));G(),p(t)},ne=function(){return h.map((function(e){return"\n      ".concat("Title: ".concat(e.title," \n"),"\n      ","Description: ".concat(e.description," \n"),"\n      ","HQ Image Link: ".concat(e.thumbnail.path," \n"),"\n      ")}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("div",{className:"div-logo",children:Object(m.jsx)("img",{className:"logo",alt:V,src:d})}),Object(m.jsxs)("div",{className:"div-send-email-button",children:[Object(m.jsx)("input",{placeholder:"Digite o seu e-mail",onChange:function(e){q(e.target.value)}}),Object(m.jsx)("button",{disabled:!M||U||!/\S+@\S+\.\S+/.test(M),onClick:Q,children:"Enviar e-mail"})]})]}),Object(m.jsx)("div",{className:"filter",children:Object(m.jsx)("input",{placeholder:"Digite ao menos 3 caracteres!",value:k,onChange:function(e){A(e.target.value)}})}),U&&Object(m.jsx)("div",{className:"spinner",children:Object(m.jsx)(N.a,{color:"red",loading:U,css:"\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n",size:150})}),!U&&Object(m.jsx)("div",{className:"container-comics",children:Object(m.jsx)("ul",{className:"list-comics",children:a.map((function(e,t){return Object(m.jsxs)("li",{className:"container-comic ".concat($(e.id)?"hq-selected":""),children:[Object(m.jsx)("img",{className:"comic-image",alt:V,src:"".concat(e.thumbnail.path,"/portrait_incredible.").concat(e.thumbnail.extension)}),Object(m.jsx)("div",{onClick:function(){!function(e){X(!0),L(e)}(t)},className:"description",children:e.title}),Object(m.jsx)("div",{className:"select ".concat(U?"display-none":""),children:Object(m.jsx)(T.a,{className:"heart ".concat($(e.id)?"heartSelected":""),alt:V,onClick:function(){$(e.id)?te(e.id):ee(e.id)},src:$(e.id)?j:b})})]},e.id)}))})}),a.length>0&&Object(m.jsxs)("div",{className:"container-pagination",children:[Object(m.jsx)("button",{disabled:0===x||U,className:"hq-button",onClick:function(){g((function(e){return e-20}))},children:"<"}),Object(m.jsx)("div",{className:"pagination",children:Object(m.jsx)("p",{children:x?x/20+1:1})}),Object(m.jsx)("button",{disabled:U,className:"".concat(U," ? '' : hq-button"),onClick:function(){g((function(e){return e+20}))},children:">"})]}),Object(m.jsxs)(f,{modalRef:Z,show:W,handleClose:function(){return X(!1)},children:[Object(m.jsx)("div",{className:"modal-comics"}),Object(m.jsxs)("div",{className:"hq-info",children:[a.length?Object(m.jsx)("img",{alt:V,src:"".concat(a[y].thumbnail.path,"/portrait_incredible.").concat(a[y].thumbnail.extension)}):"",Object(m.jsxs)("div",{className:"hq-info-text",children:[Object(m.jsx)("p",{children:a.length?a[y].title:""}),Object(m.jsx)("p",{children:a.length?a[y].description:""}),Object(m.jsx)("button",{className:"select-hq-button",onClick:function(){var e,t,n;$(null===(e=a[y])||void 0===e?void 0:e.id)?te(null===(t=a[y])||void 0===t?void 0:t.id):ee(null===(n=a[y])||void 0===n?void 0:n.id)},children:$(null===(e=a[y])||void 0===e?void 0:e.id)?"Remover da lista":"Selecionar"})]})]})]}),Object(m.jsx)(P.a,{})]})},R=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(A,{})})};var w=function(){return Object(m.jsx)(R,{})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(w,{})}),document.getElementById("root")),y()}},[[62,1,2]]]);
//# sourceMappingURL=main.bd21b719.chunk.js.map