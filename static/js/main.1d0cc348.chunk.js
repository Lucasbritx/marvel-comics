(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,n){},26:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(6),r=n.n(i),s=(n(24),n(3)),o=n.n(s),l=n(5),u=n(4),d=n.p+"static/media/Marvel-Logo.8518dc47.png",b=n.p+"static/media/heart.c412cbae.png",j=n.p+"static/media/heartSelected.556c78a5.png",m=(n(26),n(1)),h=function(e){var t=e.handleClose,n=e.show,c=e.children,a=e.modalRef;return n?Object(m.jsx)("div",{className:"modal display-block",children:Object(m.jsxs)("section",{ref:a,className:"modal-main",children:[c,Object(m.jsx)("button",{className:"close-button",type:"button",onClick:t,children:"X"})]})}):null},f=n(17),p=n.n(f),O=Object({NODE_ENV:"production",PUBLIC_URL:"/marvel-comics",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TIMESTAMP:"1",REACT_APP_PUBLIC_KEY:"9da847fb87e8c1e31bfae1fa51906f01",REACT_APP_MD5:"689a9c62dc362df7e8db6b60f55024ff",REACT_APP_SERVICE_ID:"service_q1ia4y8",REACT_APP_TEMPLATE_ID:"template_0motpnh",REACT_APP_USER_ID:"user_qNF3jXMxjhMJCEKtAaoL7"}),v=O.REACT_APP_TIMESTAMP,x=O.REACT_APP_PUBLIC_KEY,g=O.REACT_APP_MD5,_=p.a.create({baseURL:"https://gateway.marvel.com/v1/public",params:{ts:v,apikey:x,hash:g}}),C=n(18),E=n.n(C),S=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.send("".concat("service_q1ia4y8"),"".concat("template_0motpnh"),{to:"".concat(t),message:"".concat(n)},"".concat("user_qNF3jXMxjhMJCEKtAaoL7"));case 2:return c=e.sent,e.abrupt("return",200===c.status);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=n(19),N=n.n(k),P=n(7),T=(n(48),function(){var e,t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),f=s[0],p=s[1],O=Object(c.useState)(0),v=Object(u.a)(O,2),x=v[0],g=v[1],C=Object(c.useState)(""),E=Object(u.a)(C,2),k=E[0],T=E[1],A=Object(c.useState)(0),R=Object(u.a)(A,2),w=R[0],y=R[1],L=Object(c.useState)(""),D=Object(u.a)(L,2),I=D[0],M=D[1],q=Object(c.useState)(!1),F=Object(u.a)(q,2),K=F[0],U=F[1],B=Object(c.useState)(!1),H=Object(u.a)(B,2),J=H[0],W=H[1],X="Imagem n\xe3o encontrada!",V=Object(c.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(t,{params:{titleStartsWith:k}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),Y=Object(c.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),z=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),e.next=4,S(I,te().join(" \n \n "));case 4:P.b.success("E-mail enviado"),U(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),P.b.error("Erro ao enviar o e-mail");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Q=Object(c.useCallback)(Object(l.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="/comics?offset=".concat(x),e.prev=1,U(!0),!k){e.next=9;break}return e.next=6,V(t);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,Y(t);case 11:e.t0=e.sent;case 12:n=e.t0,c=n.data,i(c.data.results),U(!1),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(1),i([]);case 21:case"end":return e.stop()}}),e,null,[[1,18]])}))),[x,k,V,Y]),G=Object(c.useRef)();!function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(c.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))}(G,(function(){J&&W(!1)})),Object(c.useEffect)((function(){var e=setTimeout((function(){(0===k.length||k.length>=3)&&(Q(),g(0))}),500);return function(){clearTimeout(e)}}),[k]);var Z=Object(c.useCallback)((function(e){return f.length>0&&f.some((function(t){return t.id===e}))}),[f]);Object(c.useEffect)((function(){Q()}),[x,Q]);var $=function(e){var t=f,n=null===a||void 0===a?void 0:a.find((function(t){return t.id===e}));n&&t.push({id:n.id,description:n.description,thumbnail:n.thumbnail,title:n.title}),Q(),p(t)},ee=function(e){var t=f.filter((function(t){return t.id!==e}));Q(),p(t)},te=function(){return f.map((function(e){return"\n      ".concat("Title: ".concat(e.title," \n"),"\n      ","Description: ".concat(e.description," \n"),"\n      ","HQ Image Link: ".concat(e.thumbnail.path," \n"),"\n      ")}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("div",{className:"div-logo",children:Object(m.jsx)("img",{className:"logo",alt:X,src:d})}),Object(m.jsxs)("div",{className:"div-send-email-button",children:[Object(m.jsx)("input",{placeholder:"Digite o seu e-mail",onChange:function(e){M(e.target.value)}}),Object(m.jsx)("button",{disabled:!I||K||!/\S+@\S+\.\S+/.test(I),onClick:z,children:"Enviar e-mail"})]})]}),Object(m.jsx)("div",{className:"filter",children:Object(m.jsx)("input",{placeholder:"Digite ao menos 3 caracteres!",value:k,onChange:function(e){T(e.target.value)}})}),K&&Object(m.jsx)("div",{className:"spinner",children:Object(m.jsx)(N.a,{color:"red",loading:K,css:"\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n",size:150})}),!K&&Object(m.jsx)("div",{className:"container-comics",children:Object(m.jsx)("ul",{className:"list-comics",children:a.map((function(e,t){return Object(m.jsxs)("li",{className:"container-comic ".concat(Z(e.id)?"hq-selected":""),children:[Object(m.jsx)("img",{className:"comic-image",alt:X,src:"".concat(e.thumbnail.path,"/portrait_incredible.").concat(e.thumbnail.extension)}),Object(m.jsx)("div",{onClick:function(){!function(e){W(!0),y(e)}(t)},className:"description",children:e.title}),Object(m.jsx)("div",{className:"select ".concat(K?"display-none":""),children:Object(m.jsx)("img",{className:"heart",alt:X,onClick:function(){Z(e.id)?ee(e.id):$(e.id)},src:Z(e.id)?j:b})})]},e.id)}))})}),a.length>0&&Object(m.jsxs)("div",{className:"container-pagination",children:[Object(m.jsx)("button",{disabled:0===x||K,className:"hq-button",onClick:function(){g((function(e){return e-20}))},children:"<"}),Object(m.jsx)("div",{className:"pagination",children:Object(m.jsx)("p",{children:x?x/20+1:1})}),Object(m.jsx)("button",{disabled:K,className:"".concat(K," ? '' : hq-button"),onClick:function(){g((function(e){return e+20}))},children:">"})]}),Object(m.jsxs)(h,{modalRef:G,show:J,handleClose:function(){return W(!1)},children:[Object(m.jsx)("div",{className:"modal-comics"}),Object(m.jsxs)("div",{className:"hq-info",children:[a.length?Object(m.jsx)("img",{alt:X,src:"".concat(a[w].thumbnail.path,"/portrait_incredible.").concat(a[w].thumbnail.extension)}):"",Object(m.jsxs)("div",{className:"hq-info-text",children:[Object(m.jsx)("p",{children:a.length?a[w].title:""}),Object(m.jsx)("p",{children:a.length?a[w].description:""}),Object(m.jsx)("button",{className:"select-hq-button",onClick:function(){var e,t,n;Z(null===(e=a[w])||void 0===e?void 0:e.id)?ee(null===(t=a[w])||void 0===t?void 0:t.id):$(null===(n=a[w])||void 0===n?void 0:n.id)},children:Z(null===(e=a[w])||void 0===e?void 0:e.id)?"Remover da lista":"Selecionar"})]})]})]}),Object(m.jsx)(P.a,{})]})}),A=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(T,{})})};var R=function(){return Object(m.jsx)(A,{})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(R,{})}),document.getElementById("root")),w()}},[[56,1,2]]]);
//# sourceMappingURL=main.1d0cc348.chunk.js.map