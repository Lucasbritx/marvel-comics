(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,t,n){},24:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(15),r=n.n(s),i=(n(22),n(3)),o=n.n(i),u=n(5),l=n(4),b=n.p+"static/media/Marvel-Logo.8518dc47.png",j=(n(24),n(0)),d=function(e){var t=e.handleClose,n=e.show,c=e.children,a=e.modalRef,s=n?"modal display-block":"modal display-none";return Object(j.jsx)("div",{className:s,children:Object(j.jsxs)("section",{ref:a,className:"modal-main",children:[c,Object(j.jsx)("button",{className:"close-button",type:"button",onClick:t,children:"X"})]})})},f=n(16),h=n.n(f),m=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TIMESTAMP:"1",REACT_APP_PUBLIC_KEY:"9da847fb87e8c1e31bfae1fa51906f01",REACT_APP_MD5:"689a9c62dc362df7e8db6b60f55024ff",REACT_APP_SERVICE_ID:"service_q1ia4y8",REACT_APP_TEMPLATE_ID:"template_0motpnh",REACT_APP_USER_ID:"user_qNF3jXMxjhMJCEKtAaoL7"}),O=m.REACT_APP_TIMESTAMP,p=m.REACT_APP_PUBLIC_KEY,x=m.REACT_APP_MD5,v=h.a.create({baseURL:"https://gateway.marvel.com/v1/public",params:{ts:O,apikey:p,hash:x}}),_=n(17),g=n.n(_),C=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.send("".concat("service_q1ia4y8"),"".concat("template_0motpnh"),{toemail:"".concat(t),message:"".concat(n)},"".concat("user_qNF3jXMxjhMJCEKtAaoL7"));case 2:return c=e.sent,e.abrupt("return",200===c.status);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),i=r[0],f=r[1],h=Object(c.useState)([]),m=Object(l.a)(h,2),O=m[0],p=m[1],x=Object(c.useState)(0),_=Object(l.a)(x,2),g=_[0],E=_[1],P=Object(c.useState)(""),S=Object(l.a)(P,2),T=S[0],A=S[1],N=Object(c.useState)(0),k=Object(l.a)(N,2),R=k[0],w=k[1],L=Object(c.useState)(""),y=Object(l.a)(L,2),M=y[0],D=y[1],I=Object(c.useState)(!1),F=Object(l.a)(I,2),q=F[0],K=F[1],U="Imagem n\xe3o encontrada!",B=Object(c.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get(t,{params:{titleStartsWith:T}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[T]),J=Object(c.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),W=Object(c.useCallback)(Object(u.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="/comics?offset=".concat(g),e.prev=1,!T){e.next=8;break}return e.next=5,B(t);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,J(t);case 10:e.t0=e.sent;case 11:n=e.t0,c=n.data,E(c.data.offset),a(c.data.results),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),a([]);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),[g,T,B,J]),H=Object(c.useRef)();!function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(c.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))}(H,(function(){q&&K(!1)})),Object(c.useEffect)((function(){var e=setTimeout(W,500);return E(0),function(){clearTimeout(e)}}),[T]);var X;return Object(c.useEffect)((function(){W()}),[g]),Object(c.useEffect)((function(){var e=n.filter((function(e){return e.title.toLowerCase().includes(T.toLowerCase())}));f(e)}),[T,n]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("div",{className:"div-logo",children:Object(j.jsx)("img",{className:"logo",alt:U,src:b})}),Object(j.jsx)("div",{className:"filter",children:Object(j.jsx)("input",{placeholder:"Digite ao menos 3 caracteres!",value:T,onChange:function(e){A(e.target.value)}})}),Object(j.jsxs)("div",{className:"div-send-email-button",children:[Object(j.jsx)("input",{placeholder:"Digite o seu e-mail",onChange:function(e){D(e.target.value)}}),Object(j.jsx)("button",{disabled:!M,onClick:function(){C(M,JSON.stringify(O))},children:"Enviar e-mail"})]})]}),Object(j.jsx)("div",{className:"container-comics",children:Object(j.jsx)("ul",{className:"list-comics",children:(X=T.length||i.length?i:n,X.map((function(e,t){return Object(j.jsxs)("li",{className:"container-comic",children:[Object(j.jsx)("img",{alt:U,src:"".concat(e.thumbnail.path,"/portrait_incredible.").concat(e.thumbnail.extension)}),Object(j.jsx)("div",{onClick:function(){!function(e){K(!0),w(e)}(t)},className:"description",children:e.title})]},e.id)})))})}),n.length>0&&Object(j.jsxs)("div",{className:"container-filter",children:[Object(j.jsx)("button",{disabled:0===g,className:"hq-button",onClick:function(){E((function(e){return e-20}))},children:"prev"}),Object(j.jsx)("div",{className:"pagination",children:Object(j.jsx)("p",{children:g?g/20+1:1})}),Object(j.jsx)("button",{className:"hq-button",onClick:function(){return E((function(e){return e+20}))},children:"next"})]}),Object(j.jsxs)(d,{modalRef:H,show:q,handleClose:function(){return K(!1)},children:[Object(j.jsx)("div",{className:"modal-comics"}),Object(j.jsxs)("div",{className:"hq-info",children:[n.length?Object(j.jsx)("img",{alt:U,src:"".concat(n[R].thumbnail.path,"/portrait_incredible.").concat(n[R].thumbnail.extension)}):"",Object(j.jsxs)("div",{className:"hq-info-text",children:[Object(j.jsx)("p",{children:n.length?n[R].title:""}),Object(j.jsx)("p",{children:n.length?n[R].description:""}),Object(j.jsx)("button",{className:"select-hq-button",onClick:function(){var e=O;e.push({title:n[R].title,description:n[R].description,thumbnail:n[R].thumbnail}),p(e),console.log(O)},children:"Selecionar"})]})]})]})]})},P=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(E,{})})};var S=function(){return Object(j.jsx)(P,{})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root")),T()}},[[46,1,2]]]);
//# sourceMappingURL=main.04c332bb.chunk.js.map